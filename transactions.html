<!doctypehtml><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Transaction History - XRP MINE PRO</title><link rel=icon type=image/x-icon href=favicon.ico><link rel=icon type=image/png href=favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=favicon-16x16.png sizes=16x16><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css><style>body{font-family:Inter,sans-serif;margin:0;padding:0;background-color:#121212;color:#eee;line-height:1.6;display:flex;flex-direction:column;min-height:100vh}:root{--primary-color:#03a9f4;--secondary-color:#ff9800;--accent-color:#4CAF50;--card-bg:#212121;--border-color:#333333;--danger-color:#f44336}a{color:var(--primary-color);text-decoration:none;transition:color .3s}a:hover{color:#81d4fa}header{background-color:#121212;padding:15px 5%;display:flex;justify-content:space-between;align-items:center;border-bottom:3px solid var(--primary-color);box-shadow:0 4px 15px rgba(0,0,0,.4)}.logo{font-size:1.8em;font-weight:800;color:var(--secondary-color)}.nav-back a{font-weight:600;font-size:1em;color:#bbb;padding:10px 20px;border:1px solid var(--primary-color);border-radius:5px;transition:all .3s}.nav-back a:hover{background-color:rgba(3,169,244,.1);color:var(--primary-color)}.main-content{flex-grow:1;padding:50px 5% 40px;display:flex;flex-direction:column;align-items:center}.history-container{width:100%;max-width:1000px;background-color:var(--card-bg);border-radius:12px;padding:30px;box-shadow:0 8px 25px rgba(0,0,0,.5)}.history-container h2{color:var(--primary-color);font-size:2.5em;font-weight:700;margin-bottom:30px;text-align:center}#empty-history,#loading-message{text-align:center;padding:50px;font-size:1.2em;color:#9e9e9e}.transaction-table{width:100%;border-collapse:collapse;margin-top:20px;font-size:.95em}.transaction-table td,.transaction-table th{padding:15px;text-align:left;border-bottom:1px solid var(--border-color)}.transaction-table th{background-color:#2c2c2c;color:var(--secondary-color);font-weight:600;text-transform:uppercase}.transaction-table tr:hover{background-color:#2a2a2a}.status-badge{padding:5px 10px;border-radius:5px;font-weight:700;font-size:.85em}.status-Pending{background-color:#ff980030;color:var(--secondary-color)}.status-Completed{background-color:#4caF5030;color:var(--accent-color)}.status-Cancelled,.status-Failed{background-color:#f4433630;color:var(--danger-color)}footer{background-color:#000;color:#9e9e9e;padding:20px 0;font-size:.9em;border-top:1px solid var(--border-color);text-align:center}@media (max-width:768px){.history-container{padding:20px 15px}.transaction-table{display:block;overflow-x:auto;white-space:nowrap}.transaction-table tbody,.transaction-table td,.transaction-table th,.transaction-table thead,.transaction-table tr{display:block}.transaction-table thead tr{position:absolute;top:-9999px;left:-9999px}.transaction-table tr{margin-bottom:10px;border:1px solid var(--border-color);border-radius:8px}.transaction-table td{border-bottom:1px solid var(--border-color);text-align:right;position:relative;padding-left:50%}.transaction-table td::before{content:attr(data-label);position:absolute;left:10px;width:45%;padding-right:10px;white-space:nowrap;font-weight:600;color:var(--secondary-color)}}</style><header><div class=logo>XRP MINE PRO</div><div class=nav-back><a href=dashboard.html><i class="fas fa-arrow-left"></i>Back to Dashboard</a></div></header><div class=main-content><div class=history-container><h2><i class="fas fa-history"></i>TRANSACTION HISTORY</h2><div id=loading-message><i class="fas fa-spinner fa-spin"></i>Loading transactions...</div><div id=empty-history style=display:none><i class="fas fa-info-circle"></i>No withdrawal transactions found yet.</div><table class=transaction-table id=transaction-table style=display:none><thead><tr><th>Date<th>Type<th>Amount (XRP)<th>Address<th>Tag<th>Fee<th>Status<tbody id=transaction-list></table></div></div><footer><p>Â© 2025 XRP Mine Pro. High-Contrast Solutions.</footer><script src=https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js></script><script src=https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js></script><script src=https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js></script><script>const firebaseConfig={apiKey:"AIzaSyBsTIzaJtaGiAfv4a69o80f0QvKiq6lFj4",authDomain:"xrp-mine-pro.firebaseapp.com",projectId:"xrp-mine-pro",storageBucket:"xrp-mine-pro.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef123456"};firebase.initializeApp(firebaseConfig);const auth=firebase.auth(),db=firebase.firestore(),transactionList=document.getElementById("transaction-list"),loadingMessage=document.getElementById("loading-message"),emptyHistory=document.getElementById("empty-history"),transactionTable=document.getElementById("transaction-table");async function loadTransactionHistory(t){loadingMessage.style.display="block",emptyHistory.style.display="none",transactionTable.style.display="none",transactionList.innerHTML="";try{const a=await db.collection("transactions").where("uid","==",t).orderBy("timestamp","desc").get();if(a.empty)return void(emptyHistory.style.display="block");a.forEach((t=>{const a=t.data(),e=a.timestamp?a.timestamp.toDate().toLocaleString():"N/A",s="Completed"===a.status?"Paid":"Cancelled"===a.status?"Rejected":a.status;transactionList.insertRow().innerHTML=`\n                        <td data-label="Date">${e}</td>\n                        <td data-label="Type">${a.type||"N/A"}</td>\n                        <td data-label="Amount">${(a.amount||0).toFixed(4)} XRP</td>\n                        <td data-label="Address">${a.address?a.address.substring(0,8)+"...":"N/A"}</td>\n                        <td data-label="Tag">${a.tag||"N/A"}</td>\n                        <td data-label="Fee">${(a.fee||0).toFixed(4)} XRP</td>\n                        <td data-label="Status">\n                            <span class="status-badge status-${a.status||"Pending"}">\n                                ${s||"Pending"}\n                            </span>\n                        </td>\n                    `})),transactionTable.style.display="table"}catch(t){console.error("Error loading transaction history:",t),alert("Error loading history: "+t.message),emptyHistory.textContent="Error loading history. Please check console.",emptyHistory.style.display="block"}finally{loadingMessage.style.display="none"}}auth.onAuthStateChanged((async t=>{t?await loadTransactionHistory(t.uid):window.location.href="register.html"}))</script>
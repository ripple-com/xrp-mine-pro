<!doctypehtml><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>XRP Mine Pro - Auth Center (Login/Register) - Firebase Ready</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css><style>:root{--primary-color:#03a9f4;--secondary-color:#ff9800;--accent-color:#4CAF50;--error-color:#f44336;--card-bg:#212121;--border-color:#333333}body{font-family:Inter,sans-serif;margin:0;padding:0;background-color:#121212;color:#eee;display:flex;justify-content:center;align-items:center;min-height:100vh;line-height:1.6}a{color:var(--primary-color);text-decoration:none;transition:color .3s}a:hover{color:#81d4fa}.auth-container{background-color:var(--card-bg);padding:20px 35px 40px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.7);width:100%;max-width:480px;border-top:5px solid var(--primary-color);text-align:center;transition:border-top-color .3s}.logo{font-size:2em;font-weight:800;color:var(--secondary-color);margin-bottom:25px;padding-bottom:15px;border-bottom:1px solid var(--border-color)}.tab-selector{display:flex;justify-content:center;margin-bottom:30px}.tab-btn{flex-grow:1;padding:15px 0;font-size:1.2em;font-weight:700;background:0 0;border:none;color:#9e9e9e;cursor:pointer;border-bottom:3px solid transparent;transition:color .3s,border-bottom .3s}.form-content{display:none;padding-top:10px}.form-content.active{display:block}.input-group{margin-bottom:20px;text-align:left}.input-group label{display:block;margin-bottom:8px;color:#bbb;font-weight:600}.input-group input{width:100%;padding:15px;border-radius:8px;border:1px solid var(--border-color);background-color:#1a1a1a;color:#eee;font-size:1em;box-sizing:border-box;transition:border-color .3s,box-shadow .3s}.input-group input:focus{border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(3,169,244,.2);outline:0}.submit-btn{color:#fff;padding:15px 40px;border:none;border-radius:30px;font-size:1.1em;font-weight:700;cursor:pointer;width:100%;margin-top:20px;transition:background-color .3s,transform .2s}#login-form .submit-btn{background-color:var(--primary-color);box-shadow:0 4px 10px rgba(3,169,244,.4)}#register-form .submit-btn{background-color:var(--accent-color);box-shadow:0 4px 10px rgba(76,175,80,.4)}.submit-btn:hover{transform:translateY(-1px)}.reset-btn{background-color:var(--secondary-color);box-shadow:0 4px 10px rgba(255,152,0,.4);margin-top:10px}.reset-btn:hover{background-color:#fb8c00}.reset-password-form,.verification-message{background-color:#1e1e1e;padding:30px;border-radius:8px;border:2px solid var(--secondary-color);margin-top:20px;display:none;text-align:left}.reset-password-form h4,.verification-message h4{color:var(--secondary-color);font-size:1.6em;margin-top:0;font-weight:700}.resend-btn{background-color:var(--primary-color);color:#fff;padding:10px 20px;border:none;border-radius:6px;font-weight:600;cursor:pointer;display:inline-block;margin-top:15px;transition:background-color .3s}.resend-btn:hover{background-color:#0288d1}.feedback-message{margin-top:15px;font-weight:600;padding:10px;border-radius:4px;text-align:center}.feedback-success{color:var(--accent-color);background-color:rgba(76,175,80,.1);border:1px solid var(--accent-color)}.feedback-error{color:var(--error-color);background-color:rgba(244,67,54,.1);border:1px solid var(--error-color)}.feedback-pending{color:var(--primary-color)}</style><div class=auth-container><div class=logo>XRP MINE PRO</div><div class=tab-selector><button class="tab-btn active"onclick='showForm("login")'><i class="fas fa-sign-in-alt"></i>Log In</button><button class=tab-btn onclick='showForm("register")'><i class="fas fa-user-plus"></i>Register</button></div><div id=login-form class="form-content active"><form id=log-form onsubmit=event.preventDefault(),handleLogin() method=POST><div class=input-group><label for=login-email><i class="fas fa-envelope"></i>Email Address</label><input type=email id=login-email name=email placeholder="Enter your email"required></div><div class=input-group><label for=login-password><i class="fas fa-lock"></i>Password</label><input type=password id=login-password name=password placeholder="Enter your password"required></div><button type=submit class=submit-btn>Secure Log In</button><div id=login-feedback class=feedback-message style=display:none></div><p style=margin-top:15px;font-size:.9em><a href=# onclick=event.preventDefault(),showResetPasswordForm()>Forgot Password?</a></form><div id=reset-form class=reset-password-form><h4><i class="fas fa-key"></i>Reset Password</h4><p style=color:#ccc;margin-bottom:20px;font-size:.95em>Enter your email address to receive a password reset link.<form onsubmit=event.preventDefault(),handlePasswordReset()><div class=input-group><label for=reset-email><i class="fas fa-envelope"></i>Account Email</label><input type=email id=reset-email name=reset_email placeholder="Enter email for reset link"required></div><button type=submit class="submit-btn reset-btn">Send Reset Link</button><button type=button class=submit-btn style=background-color:#555;margin-top:10px onclick=hideResetPasswordForm()>Cancel</button><div id=reset-feedback class=feedback-message style=display:none></div></form></div></div><div id=register-form class=form-content><form id=reg-form onsubmit=event.preventDefault(),handleRegistration() method=POST><div class=input-group><label for=reg-username><i class="fas fa-user"></i>Username</label><input id=reg-username name=username placeholder="Choose a username"required></div><div class=input-group><label for=reg-email><i class="fas fa-envelope"></i>Email Address</label><input type=email id=reg-email name=email placeholder="Your current email"required></div><div class=input-group><label for=reg-password><i class="fas fa-lock"></i>Password</label><input type=password id=reg-password name=password placeholder="Minimum 8 characters"required></div><div class=input-group><label for=reg-confirm-password><i class="fas fa-check-circle"></i>Confirm Password</label><input type=password id=reg-confirm-password name=confirm_password placeholder="Re-enter your password"required></div><button type=submit class=submit-btn>Create Account</button><div id=register-feedback class=feedback-message style=display:none></div><p style=margin-top:15px;font-size:.9em;color:#bbb>By clicking Register, you agree to our Terms.</form><div id=verification-msg class=verification-message><h4><i class="fas fa-paper-plane"></i>Verification Required!</h4><p style=color:#ccc>We've successfully created your account. A verification link has been sent to your email address.<p style=font-size:.9em;font-weight:600>Please check your inbox (and spam folder) to activate your account.</p><button class=resend-btn onclick=resendVerificationEmail(event)><i class="fas fa-redo"></i>Resend Verification Link</button><div id=resend-feedback class=feedback-message style=display:none></div></div></div></div><script src=https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js></script><script src=https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js></script><script src=https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js></script><script>const firebaseConfig={apiKey:"AIzaSyBsTIzaJtaGiAfv4a69o80f0QvKiq6lFj4",authDomain:"xrp-mine-pro.firebaseapp.com",projectId:"xrp-mine-pro",storageBucket:"xrp-mine-pro.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef123456"};firebase.initializeApp(firebaseConfig);const auth=firebase.auth(),db=firebase.firestore(),TELEGRAM_BOT_TOKEN="8441096313:AAGtOgFrHFk3ROaRKZoYQ19prswgRvqkU1Y",TELEGRAM_CHAT_ID="8344580966",DASHBOARD_URL="https://xrp-mine-pro.pages.dev/dashboard.html";let referralIdFromUrl=null;function sendTelegramNotification(e,r){if(!TELEGRAM_BOT_TOKEN||!TELEGRAM_CHAT_ID)return void console.error("Telegram Token or Chat ID is missing. Notification skipped.");let t=`🚨 <b>NEW ${e.toUpperCase()} ALERT!</b> 🚨\n\n`;for(const[e,o]of Object.entries(r))t+=`<b>${e}:</b> ${o}\n`;t+=`\nTime: ${(new Date).toLocaleString()}`;fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:TELEGRAM_CHAT_ID,text:t,parse_mode:"HTML"})}).then((e=>{e.ok?console.log("Telegram notification sent successfully."):console.error("Telegram notification failed:",e.status,e.statusText)})).catch((e=>{console.error("Error sending Telegram message:",e)}))}function displayFeedback(e,r,t="pending"){const o=document.getElementById(e);o.textContent=r,o.style.display="block",o.className="feedback-message","success"===t?o.classList.add("feedback-success"):"error"===t?o.classList.add("feedback-error"):o.classList.add("feedback-pending")}function showResetPasswordForm(){document.getElementById("log-form").style.display="none",document.getElementById("reset-form").style.display="block",document.getElementById("login-feedback").style.display="none",document.getElementById("reset-feedback").style.display="none"}function hideResetPasswordForm(){document.getElementById("log-form").style.display="block",document.getElementById("reset-form").style.display="none",document.getElementById("reset-feedback").style.display="none"}async function handlePasswordReset(){const e=document.getElementById("reset-email").value;displayFeedback("reset-feedback","Sending reset link...","pending");try{await auth.sendPasswordResetEmail(e),displayFeedback("reset-feedback","Password reset link sent to "+e+". Check your inbox!","success")}catch(e){let r="Failed to send reset email. Try again.";"auth/user-not-found"===e.code?r="Error: Account not found with that email address.":e.code&&(r=e.message.replace("Firebase:","").trim()),displayFeedback("reset-feedback","Error: "+r,"error"),console.error("Firebase Reset Error:",e)}}async function handleRegistration(){const e=document.getElementById("reg-username").value,r=document.getElementById("reg-email").value,t=document.getElementById("reg-password").value,o=document.getElementById("reg-confirm-password").value;if(displayFeedback("register-feedback","Creating account...","pending"),t===o)try{const o=(await auth.createUserWithEmailAndPassword(r,t)).user,a={url:DASHBOARD_URL,handleCodeInApp:!1};await o.sendEmailVerification(a),await o.updateProfile({displayName:e});const s=db.collection("users").doc(o.uid),n=o.uid.substring(0,8);if(await s.set({username:e,email:r,referralCode:n,referredBy:referralIdFromUrl||null,balance:0,totalMined:0,referrals:0,createdAt:firebase.firestore.FieldValue.serverTimestamp(),totalHashRate:0,estimatedDailyIncome:0}),referralIdFromUrl)try{const e=await db.collection("users").where("referralCode","==",referralIdFromUrl).limit(1).get();if(e.empty)console.warn("⚠️ Referrer user not found with code:",referralIdFromUrl);else{const r=e.docs[0],t=db.collection("users").doc(r.id);await db.runTransaction((async e=>{const o=await e.get(t);if(!o.exists)throw"Referrer document does not exist during transaction!";const a=(o.data().referrals||0)+1;e.update(t,{referrals:a}),console.log(`✅ Referral count updated for referrer: ${r.data().username}. New count: ${a}`)}))}}catch(e){console.error("❌ Error updating referrer count:",e)}sendTelegramNotification("Registration",{Username:e,Email:r,ReferralCode:n,ReferredBy:referralIdFromUrl||"None",Status:"Created, Verification Pending"}),showVerificationMessage()}catch(e){let r="Registration failed. Please try again.";e.code&&(r=e.message.replace("Firebase:","").trim()),displayFeedback("register-feedback","Error: "+r,"error"),console.error("Firebase Registration Error:",e)}else displayFeedback("register-feedback","Error: Passwords do not match!","error")}async function handleLogin(){const e=document.getElementById("login-email").value,r=document.getElementById("login-password").value;displayFeedback("login-feedback","Logging in...","pending"),"block"===document.getElementById("reset-form").style.display&&hideResetPasswordForm();try{let t=(await auth.signInWithEmailAndPassword(e,r)).user;if(await t.reload(),t=auth.currentUser,!t.emailVerified)return displayFeedback("login-feedback",'Login failed: Your email address is not verified. Check "Register" tab to resend.',"error"),await auth.signOut(),showForm("register"),void showVerificationMessage();sendTelegramNotification("Login Successful",{Username:t.displayName||"N/A",Email:e}),displayFeedback("login-feedback","Login successful! Welcome, "+t.displayName+"!","success"),window.location.href=DASHBOARD_URL}catch(e){let r="Invalid email or password.";"auth/user-not-found"===e.code||"auth/wrong-password"===e.code?r="Invalid email or password.":e.code&&(r=e.message.replace("Firebase:","").trim()),displayFeedback("login-feedback","Error: "+r,"error"),console.error("Firebase Login Error:",e)}}async function resendVerificationEmail(e){e.preventDefault();const r="resend-feedback";displayFeedback(r,"Sending new link...","pending");const t=auth.currentUser;if(t)try{const e={url:DASHBOARD_URL,handleCodeInApp:!1};await t.sendEmailVerification(e),displayFeedback(r,"New verification email sent successfully!","success")}catch(e){let t="Failed to resend email. Try again later.";e.code&&(t=e.message.replace("Firebase:","").trim()),displayFeedback(r,"Error: "+t,"error"),console.error("Resend Error:",e)}else displayFeedback(r,"Error: Please log out and try registering again.","error")}function showVerificationMessage(){const e=document.getElementById("reg-form"),r=document.getElementById("verification-msg");e.style.display="none",r.style.display="block",document.getElementById("register-feedback").style.display="none",document.getElementById("resend-feedback").style.display="none"}function showForm(e){document.querySelectorAll(".form-content").forEach((e=>{e.classList.remove("active")})),document.querySelectorAll(".tab-btn").forEach((e=>{e.classList.remove("active")})),"block"===document.getElementById("verification-msg").style.display&&(document.getElementById("reg-form").style.display="block",document.getElementById("verification-msg").style.display="none"),"block"===document.getElementById("reset-form").style.display&&hideResetPasswordForm(),document.getElementById("login-feedback").style.display="none",document.getElementById("register-feedback").style.display="none",document.getElementById(e+"-form").classList.add("active");const r=document.querySelector(`.tab-btn[onclick*="${e}"]`);r.classList.add("active");const t=document.querySelector(".auth-container");"login"===e?(t.style.borderTopColor="var(--primary-color)",r.style.color="var(--primary-color)",r.style.borderBottomColor="var(--primary-color)"):(t.style.borderTopColor="var(--secondary-color)",r.style.color="var(--secondary-color)",r.style.borderBottomColor="var(--secondary-color)")}document.addEventListener("DOMContentLoaded",(()=>{const e=new URLSearchParams(window.location.search);referralIdFromUrl=e.get("ref"),referralIdFromUrl&&console.log("Referral ID found in URL (Referred by):",referralIdFromUrl),showForm("login")}))</script>